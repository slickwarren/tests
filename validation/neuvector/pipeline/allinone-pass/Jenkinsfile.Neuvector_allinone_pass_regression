#!groovy
node('neuvector') {
    stage('Execution') {
   withCredentials([string(credentialsId: 'NEUVECTOR_PASSWORD', variable: 'NEUVECTOR_PASSWORD'), string(credentialsId: 'NEUVECTOR_EXEC_SERVER', variable: 'NEUVECTOR_EXEC_SERVER')]) {
    sh '''
      sshpass -p "$NEUVECTOR_PASSWORD" ssh neuvector@$NEUVECTOR_EXEC_SERVER "/mnt/nfs/share/QA/automation/allinone_regression.sh $_BUILD_TAG_ $_DIR_"
    '''
  }
 }
}
